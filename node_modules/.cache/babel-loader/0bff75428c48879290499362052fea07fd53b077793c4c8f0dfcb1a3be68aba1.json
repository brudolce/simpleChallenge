{"ast":null,"code":"import React from\"react\";export const useCRUD=()=>{const[items,setItems]=React.useState([]);const setItemsWithStorage=items=>{setItems(items);localStorage.setItem(\"items\",JSON.stringify(items));};React.useEffect(()=>{const items=localStorage.getItem(\"items\");if(items){setItems(JSON.parse(items));// Also get from backend here\n}},[]);const addItem=item=>{if(items.includes(item)){alert(\"List already contains item\");return;}setItemsWithStorage([...items,item]);// Also add to backend\n};const deleteItem=item=>{if(!items.includes(item)){alert(\"Item not in list\");return;}const filtered=items.filter(v=>v!==item);setItemsWithStorage(filtered);// Also add to backend\n};const getItems=()=>items;const updateItem=(prevItem,newItem)=>{if(!items.includes(prevItem)){alert(\"Item not in list\");return;}if(items.includes(newItem)){alert(\"List already contains item\");return;}const newItems=items.map(i=>i===prevItem?newItem:i);setItemsWithStorage(newItems);// Also update in backend\n};return{addItem,deleteItem,getItems,updateItem};};","map":{"version":3,"names":["React","useCRUD","items","setItems","useState","setItemsWithStorage","localStorage","setItem","JSON","stringify","useEffect","getItem","parse","addItem","item","includes","alert","deleteItem","filtered","filter","v","getItems","updateItem","prevItem","newItem","newItems","map","i"],"sources":["/Users/developer/Ubermetrics/repos/brunogithub/reactTSCodingChallenge/src/useCRUD.ts"],"sourcesContent":["import React from \"react\";\n\nexport const useCRUD = () => {\n  const [items, setItems] = React.useState([] as string[]);\n\n  const setItemsWithStorage = (items: string[]) => {\n    setItems(items);\n    localStorage.setItem(\"items\", JSON.stringify(items));\n  };\n\n  React.useEffect(() => {\n    const items = localStorage.getItem(\"items\");\n    if (items) {\n      setItems(JSON.parse(items));\n      // Also get from backend here\n    }\n  }, []);\n\n  const addItem = (item: string) => {\n    if (items.includes(item)) {\n      alert(\"List already contains item\");\n      return;\n    }\n    setItemsWithStorage([...items, item]);\n    // Also add to backend\n  };\n\n  const deleteItem = (item: string) => {\n    if (!items.includes(item)) {\n      alert(\"Item not in list\");\n      return;\n    }\n    const filtered = items.filter((v) => v !== item);\n    setItemsWithStorage(filtered);\n    // Also add to backend\n  };\n\n  const getItems = () => items;\n\n  const updateItem = (prevItem: string, newItem: string) => {\n    if (!items.includes(prevItem)) {\n      alert(\"Item not in list\");\n      return;\n    }\n    if (items.includes(newItem)) {\n      alert(\"List already contains item\");\n      return;\n    }\n    const newItems = items.map((i) => (i === prevItem ? newItem : i));\n    setItemsWithStorage(newItems);\n    // Also update in backend\n  };\n\n  return { addItem, deleteItem, getItems, updateItem };\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGH,KAAK,CAACI,QAAQ,CAAC,EAAc,CAAC,CAExD,KAAM,CAAAC,mBAAmB,CAAIH,KAAe,EAAK,CAC/CC,QAAQ,CAACD,KAAK,CAAC,CACfI,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEC,IAAI,CAACC,SAAS,CAACP,KAAK,CAAC,CAAC,CACtD,CAAC,CAEDF,KAAK,CAACU,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAR,KAAK,CAAGI,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIT,KAAK,CAAE,CACTC,QAAQ,CAACK,IAAI,CAACI,KAAK,CAACV,KAAK,CAAC,CAAC,CAC3B;AACF,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAW,OAAO,CAAIC,IAAY,EAAK,CAChC,GAAIZ,KAAK,CAACa,QAAQ,CAACD,IAAI,CAAC,CAAE,CACxBE,KAAK,CAAC,4BAA4B,CAAC,CACnC,OACF,CACAX,mBAAmB,CAAC,CAAC,GAAGH,KAAK,CAAEY,IAAI,CAAC,CAAC,CACrC;AACF,CAAC,CAED,KAAM,CAAAG,UAAU,CAAIH,IAAY,EAAK,CACnC,GAAI,CAACZ,KAAK,CAACa,QAAQ,CAACD,IAAI,CAAC,CAAE,CACzBE,KAAK,CAAC,kBAAkB,CAAC,CACzB,OACF,CACA,KAAM,CAAAE,QAAQ,CAAGhB,KAAK,CAACiB,MAAM,CAAEC,CAAC,EAAKA,CAAC,GAAKN,IAAI,CAAC,CAChDT,mBAAmB,CAACa,QAAQ,CAAC,CAC7B;AACF,CAAC,CAED,KAAM,CAAAG,QAAQ,CAAGA,CAAA,GAAMnB,KAAK,CAE5B,KAAM,CAAAoB,UAAU,CAAGA,CAACC,QAAgB,CAAEC,OAAe,GAAK,CACxD,GAAI,CAACtB,KAAK,CAACa,QAAQ,CAACQ,QAAQ,CAAC,CAAE,CAC7BP,KAAK,CAAC,kBAAkB,CAAC,CACzB,OACF,CACA,GAAId,KAAK,CAACa,QAAQ,CAACS,OAAO,CAAC,CAAE,CAC3BR,KAAK,CAAC,4BAA4B,CAAC,CACnC,OACF,CACA,KAAM,CAAAS,QAAQ,CAAGvB,KAAK,CAACwB,GAAG,CAAEC,CAAC,EAAMA,CAAC,GAAKJ,QAAQ,CAAGC,OAAO,CAAGG,CAAE,CAAC,CACjEtB,mBAAmB,CAACoB,QAAQ,CAAC,CAC7B;AACF,CAAC,CAED,MAAO,CAAEZ,OAAO,CAAEI,UAAU,CAAEI,QAAQ,CAAEC,UAAW,CAAC,CACtD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}